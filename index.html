<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pedido de Pagamento</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        nav {
            background: #2d6a4f;
            padding: 15px 0;
            width: 100%;
        }
        nav ul {
            list-style: none;
            padding: 0;
            margin: 0 auto;
            display: flex;
            justify-content: center;
        }
        nav ul li {
            position: relative;
            margin: 0 4px;
        }
        nav ul li a {
            color: white;
            text-decoration: none;
            font-size: 15px;
            padding: 6px;
            display: block;
        }
        nav ul li:hover > a {
            background: #1b4332;
            border-radius: 5px;
        }
        .form-container {
            text-align: center;
            width: 100%;
            max-width: 800px;
            margin: 20px auto 0;
            border: 1px solid #ccc;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .form-container table {
            width: 100%;
            border-collapse: collapse;
        }
        .form-container th, .form-container td {
            border: 1px solid #ccc;
            padding: 10px;
            text-align: left;
        }
        .form-container th {
            background-color: #f9f9f9;
        }
        .form-container input, .form-container select {
            width: 100%;
            padding: 8px;
            margin: 5px 0;
            box-sizing: border-box;
        }
        .form-container .section-title {
            text-align: center;
            font-weight: bold;
            background-color: #e9e9e9;
            padding: 10px;
            margin-top: 20px;
        }
        .submit-btn {
            width: 100%;
            padding: 12px;
            background: #2d6a4f;
            color: white;
            border: none;
            font-size: 18px;
            border-radius: 5px;
            cursor: pointer;
            transition: 0.3s;
        }
        .submit-btn:hover {
            background: #1b4332;
        }
    </style>
</head>
<body>
    <nav>
        <ul>
            <li><a href=""></a></li>
            <li class="dropdown">
                <a href=""></a>
                <div class="dropdown-content">
                    <a href=""></a>
                    <a href=""></a>
                    <a href=""></a>
                </div>
            </li>
        </ul>
    </nav>
    <div class="form-container">
        <h2>PEDIDO DE PAGAMENTO Nº <span id="numeroPedido">1</span></h2>
        <form id="pedidoForm">
            <table>
                <tr>
                    <td colspan="2">RESUMO:<input type="text" id="resumo" value="" required></td>
                    <th>DATA: <input type="text" id="dataAtual" readonly></th>
                </tr>
                <tr>
                    <td>NOME DO SOLICITANTE: <input type="text" id="nomeSolicitante" value="" required></td>
                    <td>CARGO: <input type="text" id="cargo" value="" required></td>
                    <td></td>
                </tr>
                <tr>
                    <td>CENTRO DE CUSTO: <input type="text" id="centroCusto" value="" required></td>
                    <td>CATEGORIA: <input type="text" id="categoria" value="" required></td>
                    <td>APROVADOR:
                        <select name="aprovador" required>
                            <option value="">Selecione...</option>
                            <option value="FRANCINALDO LIMA">FRANCINALDO LIMA</option>
                            <option value="BENONIMO MIRANDA">BENONIMO MIRANDA</option>
                            <option value="LUCIANA LIMA">LUCIANA LIMA</option>
                            <option value="JEFERSON STRAATMANN">JEFERSON STRAATMANN</option>
                            <option value="CLARISSA MARTINS">CLARISSA MARTINS</option>
                        </select>
                    </td>
                </tr>
            </table>

            <div class="section-title">DADOS DO FAVORECIDO</div>
            <table>
                <tr>
                    <td>FAVORECIDO: <input type="text" id="favorecido" value="" required></td>
                    <td>CPF/CNPJ: <input type="text" id="cpfCnpj" value="" required></td>
                    <td>FORMA DE PAGAMENTO:
                        <select name="forma_pagamento" required>
                            <option value="">Selecione...</option>
                            <option value="TED">TED</option>
                            <option value="TEV">TEV</option>
                            <option value="Deposito no Caixa Eletrônico">Depósito no Caixa Eletrônico</option>
                            <option value="PIX">PIX</option>
                            <option value="Em Espécie">Em Espécie</option>
                            <option value="Cheque">Cheque</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>COD. DO BANCO: <input type="text" id="codBanco" value="" required></td>
                    <td>NOME DO BANCO: <input type="text" id="nomeBanco" value="" required></td>
                    <td>Tipo da Conta:
                        <select name="tipo_conta" required>
                            <option value="">Selecione...</option>
                            <option value="corrente_pj">Corrente PJ</option>
                            <option value="corrente_pf">Corrente PF</option>
                            <option value="poupanca_pj">Poupança PJ</option>
                            <option value="poupanca_pf">Poupança PF</option>
                            <option value="conta_salario">Conta Salário</option>
                        </select>
                    </td>
                </tr>
                <tr>
                    <td>Nº DA AGÊNCIA: <input type="text" id="agencia" value="" required></td>
                    <td>OPERAÇÃO: <input type="text" id="operacao" value="" required></td>
                    <td>Nº DA CONTA: <input type="text" id="conta" value="" required></td>
                </tr>
                <tr>
                    <td>CHAVE PIX: <input type="text" id="chavePix" value="" required></td>
                    <td>TIPO DE DOCUMENTO: <input type="text" id="tipoDocumento" value="" required></td>
                    <td>Nº DO DOCUMENTO: <input type="text" id="documento" value="" required></td>
                </tr>
            </table>

            <div class="section-title">DESCRIÇÃO DO PEDIDO</div>
            <table>
                <tr>
                    <td>
                        <textarea rows="4" id="descricao" style="width: 100%; padding: 10px; box-sizing: border-box;" required>Pagamento de rescisão de contrato de trabalho do período de 20/05/2022 a 20/11/2023</textarea>
                    </td>
                </tr>
            </table>
            <button class="submit-btn" id="submitBtn" type="submit" style="margin-top: 20px;">Enviar Pedido</button>
        </form>
    </div>

    <script>
        // Função para formatar a data no formato dd/mm/aaaa
        function formatarData(data) {
            const dia = String(data.getDate()).padStart(2, '0');
            const mes = String(data.getMonth() + 1).padStart(2, '0'); // Mês começa do 0
            const ano = data.getFullYear();
            return `${dia}/${mes}/${ano}`;
        }

        // Preenche o campo de data com a data atual
        document.getElementById('dataAtual').value = formatarData(new Date());

        // Função para incrementar o número do pedido
        function incrementarNumeroPedido() {
            let numeroPedido = localStorage.getItem('numeroPedido');
            if (!numeroPedido) {
                numeroPedido = 1;
            } else {
                numeroPedido = parseInt(numeroPedido) + 1;
            }
            localStorage.setItem('numeroPedido', numeroPedido);
            document.getElementById('numeroPedido').textContent = numeroPedido;
        }

        // Função para permitir apenas números
        function permitirApenasNumeros(event) {
            const charCode = (event.which) ? event.which : event.keyCode;
            if (charCode > 31 && (charCode < 48 || charCode > 57)) {
                event.preventDefault();
                return false;
            }
            return true;
        }

        // Função para permitir apenas texto
        function permitirApenasTexto(event) {
            const charCode = (event.which) ? event.which : event.keyCode;
            if (!(charCode >= 65 && charCode <= 90) && !(charCode >= 97 && charCode <= 122) && charCode !== 32) {
                event.preventDefault();
                return false;
            }
            return true;
        }

        // Adiciona o evento de validação para os campos que devem aceitar apenas números
        document.getElementById('agencia').addEventListener('keypress', permitirApenasNumeros);
        document.getElementById('operacao').addEventListener('keypress', permitirApenasNumeros);
        document.getElementById('conta').addEventListener('keypress', permitirApenasNumeros);
        document.getElementById('documento').addEventListener('keypress', permitirApenasNumeros);

        // Adiciona o evento de validação para os campos que devem aceitar apenas texto
        document.getElementById('nomeSolicitante').addEventListener('keypress', permitirApenasTexto);
        document.getElementById('cargo').addEventListener('keypress', permitirApenasTexto);
        document.getElementById('centroCusto').addEventListener('keypress', permitirApenasTexto);
        document.getElementById('categoria').addEventListener('keypress', permitirApenasTexto);
        document.getElementById('favorecido').addEventListener('keypress', permitirApenasTexto);
        document.getElementById('nomeBanco').addEventListener('keypress', permitirApenasTexto);
        document.getElementById('tipoDocumento').addEventListener('keypress', permitirApenasTexto);

        // Adiciona um evento de submit ao formulário
        document.getElementById('pedidoForm').addEventListener('submit', function(event) {
            event.preventDefault(); // Impede o envio padrão do formulário

            // Verifica se todos os campos obrigatórios estão preenchidos
            const camposObrigatorios = document.querySelectorAll('#pedidoForm [required]');
            let todosPreenchidos = true;
            camposObrigatorios.forEach(campo => {
                if (!campo.value.trim()) {
                    todosPreenchidos = false;
                    campo.style.border = '1px solid red'; // Destaca o campo não preenchido
                } else {
                    campo.style.border = ''; // Remove o destaque se o campo estiver preenchido
                }
            });

            if (todosPreenchidos) {
                incrementarNumeroPedido(); // Incrementa o número do pedido
                alert('Pedido enviado com sucesso! Número do pedido: ' + localStorage.getItem('numeroPedido'));

                // Limpa o formulário após o envio
                document.getElementById('pedidoForm').reset();

                // Atualiza a data atual após limpar o formulário
                document.getElementById('dataAtual').value = formatarData(new Date());
            } else {
                alert('Por favor, preencha todos os campos obrigatórios.');
            }
        });

        // Carrega o número do pedido ao carregar a página
        incrementarNumeroPedido();
    </script>
</body>
</html>